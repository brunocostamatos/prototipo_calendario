{"ast":null,"code":"function GetSpreaker(setDados, setPodcast, setListaProgramas, setProgramaNoticia) {\n  let chave_acesso = \"20e75b947a1909b99b242724438ed46dad9576b1\";\n  var lista_programas = [];\n  var programa_noticia = [];\n  fetch(`https://api.spreaker.com/v2/me?oauth2_access_token=` + chave_acesso).then(response => response.json()).then(dados => {\n    setDados(dados.response.user);\n    return dados;\n  }).then(dados => {\n    if (dados.response.user.user_id != undefined) {\n      fetch(`https://api.spreaker.com/v2/users/` + dados.response.user.user_id + `/shows`).then(response => response.json()).then(podcasts => {\n        setPodcast(podcasts.response.items);\n        return podcasts;\n      }).then(podcasts => {\n        let tamanho = podcasts.response.items.length;\n\n        for (var i = 0; i < tamanho; i++) {\n          if (podcasts.response.items[i].title != \"Rádio UFRJ - Informação & Conhecimento\") {\n            fetch(`https://api.spreaker.com/v2/shows/` + podcasts.response.items[i].show_id).then(response => response.json()).then(programas => {\n              if (programas.response.show.last_episode_at != null) {\n                lista_programas.push({\n                  show_id: programas.response.show.show_id,\n                  title: programas.response.show.title,\n                  datacao_filtrada: new Date(programas.response.show.last_episode_at.split(' ')[0]),\n                  last_episode_at: programas.response.show.last_episode_at,\n                  image_url: programas.response.show.image_url,\n                  descricao_programa: programas.response.show.description\n                });\n              }\n            });\n          } else {\n            fetch(`https://api.spreaker.com/v2/shows/` + podcasts.response.items[i].show_id).then(response => response.json()).then(programas => {\n              programa_noticia.push({\n                show_id: programas.response.show.show_id,\n                title: programas.response.show.title,\n                image_url: programas.response.show.image_url,\n                descricao_programa: programas.response.show.description\n              });\n            });\n          }\n        }\n\n        const listaProgramasFiltrada = lista_programas.sort((a, b) => b.datacao_filtrada - a.datacao_filtrada);\n        setProgramaNoticia(programa_noticia);\n        setListaProgramas(listaProgramasFiltrada);\n      });\n    }\n  });\n}\n\n_c = GetSpreaker;\nexport default GetSpreaker;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetSpreaker\");","map":{"version":3,"sources":["/home/bruno/Área de Trabalho/minha-primeira-app/src/getSpreaker.js"],"names":["GetSpreaker","setDados","setPodcast","setListaProgramas","setProgramaNoticia","chave_acesso","lista_programas","programa_noticia","fetch","then","response","json","dados","user","user_id","undefined","podcasts","items","tamanho","length","i","title","show_id","programas","show","last_episode_at","push","datacao_filtrada","Date","split","image_url","descricao_programa","description","listaProgramasFiltrada","sort","a","b"],"mappings":"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","sourcesContent":["function GetSpreaker(setDados, setPodcast, setListaProgramas, setProgramaNoticia) {\n    let chave_acesso = \"20e75b947a1909b99b242724438ed46dad9576b1\";\n    var lista_programas = [];\n    var programa_noticia = [];\n\n    fetch(`https://api.spreaker.com/v2/me?oauth2_access_token=` + chave_acesso)\n        \n    .then((response) => response.json())    \n    .then((dados) => {    \n        setDados(dados.response.user)    \n        return dados;    \n    })\n    \n    .then((dados) => {    \n        if (dados.response.user.user_id != undefined) {    \n            fetch(`https://api.spreaker.com/v2/users/` + dados.response.user.user_id +`/shows`)        \n            .then((response) => response.json())        \n            .then((podcasts) => {        \n                setPodcast(podcasts.response.items)  \n                \n                return podcasts;        \n            })\n                    \n            .then((podcasts) => {        \n                let tamanho = podcasts.response.items.length;        \n                for (var i = 0; i < tamanho; i++) {        \n                    if (podcasts.response.items[i].title != \"Rádio UFRJ - Informação & Conhecimento\") {        \n                        fetch(`https://api.spreaker.com/v2/shows/` + podcasts.response.items[i].show_id)        \n                        .then((response) => response.json())        \n                        .then((programas)=>{        \n                            if (programas.response.show.last_episode_at != null){        \n                                lista_programas.push({        \n                                    show_id: programas.response.show.show_id,        \n                                    title: programas.response.show.title,        \n                                    datacao_filtrada: new Date(programas.response.show.last_episode_at.split(' ')[0]),        \n                                    last_episode_at: programas.response.show.last_episode_at,        \n                                    image_url: programas.response.show.image_url,        \n                                    descricao_programa: programas.response.show.description        \n                                });        \n                            }        \n                        })        \n                    }          \n                    else{        \n                        fetch(`https://api.spreaker.com/v2/shows/` + podcasts.response.items[i].show_id)        \n                        .then((response) => response.json())        \n                        .then((programas)=>{        \n                            programa_noticia.push({        \n                                show_id: programas.response.show.show_id,            \n                                title: programas.response.show.title,        \n                                image_url: programas.response.show.image_url,        \n                                descricao_programa: programas.response.show.description        \n                            })        \n                        })        \n                    }        \n                }        \n\n                const listaProgramasFiltrada = lista_programas.sort((a, b) => b.datacao_filtrada - a.datacao_filtrada)\n\n                setProgramaNoticia(programa_noticia)        \n                setListaProgramas(listaProgramasFiltrada)\n               \n            });    \n        }      \n    })\n}\n\nexport default GetSpreaker"]},"metadata":{},"sourceType":"module"}